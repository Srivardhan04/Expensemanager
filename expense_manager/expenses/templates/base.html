{% load static %}
<!DOCTYPE html>
<html>
<head>
<title>Expense Manager</title>
<link rel="stylesheet" href="{% static 'style.css' %}">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* -------- Small Professional Theme Toggle -------- */
#themeToggle{
Â  border: none;
Â  outline: none;
Â  width: 34px;
Â  height: 34px;
Â  border-radius: 50%;
Â  background: #111;
Â  color: #00ff88;
Â  font-size: 16px;
Â  cursor: pointer;
Â  display: flex;
Â  align-items: center;
Â  justify-content: center;
Â  transition: 0.3s ease-in-out;
Â  margin-left: 10px;
}
body.light #themeToggle{
Â  background: #eeeeee;
Â  color: #111;
}
#themeToggle:hover{
Â  transform: scale(1.1);
Â  box-shadow: 0 0 10px #00ff88;
}
</style>
</head>
<body>
<!-- NAVBAR -->
<nav>
Â  Â  <h2>Expense Manager</h2>
Â  Â  {% if user.is_authenticated %}
Â  Â  Â  Â  <a href="/">Dashboard</a>
Â  Â  Â  Â  <a href="/add/">Add Expense</a>
Â  Â  Â  Â  <a href="/logout/">Logout</a>
        <a href="/profile/">Profile</a>
Â  Â  Â  Â  <!-- Theme Toggle -->
Â  Â  Â  Â  <button id="themeToggle">ğŸŒ™</button>
Â  Â  {% else %}
Â  Â  Â  Â  <a href="/login/">Login</a>
Â  Â  Â  Â  <a href="/register/">Register</a>
        <a href="/backup/">Backup</a>
Â  Â  {% endif %}
</nav>
<!-- MAIN CONTENT -->
<div class="container">
Â  Â  {% block content %}
Â  Â  {% endblock %}
</div>
<!-- ================= Delete Confirmation Popup ================= -->
<div id="confirmBox">
Â  Â  <div class="confirm-card">
Â  Â  Â  Â  <div class="confirm-icon">
Â  Â  Â  Â  Â  Â  âš ï¸
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <h2>Are you sure?</h2>
Â  Â  Â  Â  <p>This action cannot be undone.</p>
Â  Â  Â  Â  <div class="confirm-actions">
Â  Â  Â  Â  Â  Â  <button onclick="closeConfirm()" class="cancel-btn">Cancel</button>
Â  Â  Â  Â  Â  Â  <button id="deleteBtn" class="delete-btn">Delete</button>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>
<!-- ================= Toast Notification ================= -->
<div id="toast"></div>
<!-- ================= GLOBAL SCRIPT ================= -->
<script>
// ================= Toast =================
function showToast(msg){
  let t = document.getElementById("toast");
  t.innerHTML = msg;
  t.classList.add("show");
  setTimeout(()=>{ t.classList.remove("show"); },3000);
}
// ================= Delete Confirm =================
function confirmDelete(url){
Â  Â  document.getElementById("confirmBox").style.display="flex";
Â  Â  document.getElementById("deleteBtn").onclick=function(){
Â  Â  Â  Â  window.location.href=url;
Â  Â  }
}
function closeConfirm(){
Â  Â  document.getElementById("confirmBox").style.display="none";
}
</script>
<!-- ================= THEME TOGGLE ================= -->
<script>
document.addEventListener("DOMContentLoaded", function(){
Â  Â  const toggleBtn = document.getElementById("themeToggle");
Â  Â  function applyTheme(){
Â  Â  Â  Â  const theme = localStorage.getItem("theme") || "dark";
Â  Â  Â  Â  if(theme === "light"){
Â  Â  Â  Â  Â  Â  document.body.classList.add("light");
Â  Â  Â  Â  Â  Â  toggleBtn.innerHTML = "ğŸŒ";
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  document.body.classList.remove("light");
Â  Â  Â  Â  Â  Â  toggleBtn.innerHTML = "ğŸŒ™";
Â  Â  Â  Â  }
Â  Â  }
Â  Â  applyTheme();
Â  Â  toggleBtn.addEventListener("click", ()=>{
Â  Â  Â  Â  if(document.body.classList.contains("light")){
Â  Â  Â  Â  Â  Â  localStorage.setItem("theme","dark");
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  localStorage.setItem("theme","light");
Â  Â  Â  Â  }
Â  Â  Â  Â  applyTheme();
Â  Â  });
});
</script>
</body>
</html>
